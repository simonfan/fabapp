define(["require","exports","module","lodash","q","jquery","fabapp/view/base"],function(t,n,r){var i=t("lodash"),s=t("q"),o=t("jquery"),u=t("fabapp/view/base"),a=u.extend({initialize:function(t){u.prototype.initialize.call(this,t),this.dataSources=t.dataSources,this.views={}},template:'<div class="display"></div>',retrieveViewInstance:function(n){var r=s.defer(),u=n.get("view");if(this.views[u])r.resolve(this.views[u]);else{var a=n.toJSON();a.el=o('<div class="display-wrapper"></div>').appendTo(this.$el)[0],t([u],i.bind(function(e){var t=this.views[u]=e(a);r.resolve(t)},this))}return r.promise},retrieveData:function(t){var n=t.get("data_source")},visualize:function(t,n){var r=this.retrieveViewInstance(t),i=this.retrieveData(n);s.all([r,i]).then(function(e,t){e.activate(t)})},activate:function(t){},deactivate:function(t){}});r.exports=a});